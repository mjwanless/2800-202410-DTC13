<%- include('templates/header'); %>

<div class="bg-indigo-50 min-h-screen flex flex-col items-center p-4">
    <h1 class="text-2xl font-bold text-center mb-4">My Preference</h1>
    <div class="grid grid-cols-2 gap-4 w-full max-w-xs">
        <% preferences.forEach(function(preference) { %>
            <div 
                class="bg-orange-100 rounded-full p-3 text-center cursor-pointer hover:bg-orange-200 transition-transform transform hover:scale-105"
                onclick="selectPreference('<%= preference.name %>')">
                <%= preference.name %>
            </div>
        <% }); %>
    </div>
</div>

<%- include('templates/menuBar'); %>
<%- include('templates/footer'); %>

<script>
function selectPreference(preferenceName) {
    fetch('/update_preference', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ preference: preferenceName }),
    })
    .then(response => response.json())
    .then(data => {
        if (data.status === 'success') {
            alert('Preference updated successfully');
        } else {
            alert('Failed to update preference');
        }
    })
    .catch((error) => {
        console.error('Error updating preference:', error);
    });
}
</script>

<style>
    .bubble {
        background-color: rgba(234, 88, 12, 0.1); /* Light orange with transparency */
        border: 2px solid rgba(234, 88, 12, 0.5); /* Slightly darker border */
        border-radius: 50%;
        padding: 10px 20px;
        text-align: center;
        cursor: pointer;
        transition: transform 0.2s ease-in-out;
    }

    .bubble:hover {
        background-color: rgba(234, 88, 12, 0.2);
        transform: scale(1.1); /* Slightly enlarge on hover */
    }

    .selected {
        background-color: rgba(234, 88, 12, 0.5);
        color: white;
    }
</style>
